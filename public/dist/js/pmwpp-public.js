!function e(t,a,n){function i(r,l){if(!a[r]){if(!t[r]){var d="function"==typeof require&&require;if(!l&&d)return d(r,!0);if(s)return s(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var o=a[r]={exports:{}};t[r][0].call(o.exports,function(e){var a=t[r][1][e];return i(a?a:e)},o,o.exports,e,t,a,n)}return a[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t,a){!function(e,t){"use strict";t.CallToAction=function(){function e(){}return e.prototype.getURL=function(e){return e.data("endpoint")},e}()}(jQuery,window)},{}],2:[function(e,t,a){!function(e){var t={init:function(a){var n=e.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(e,t){},onInit:function(){}},a||{}),i=this;return n.pages=n.pages?n.pages:Math.ceil(n.items/n.itemsOnPage)?Math.ceil(n.items/n.itemsOnPage):1,n.currentPage?n.currentPage=n.currentPage-1:n.currentPage=n.invertPageOrder?n.pages-1:0,n.halfDisplayed=n.displayedPages/2,this.each(function(){i.addClass(n.cssStyle+" simple-pagination").data("pagination",n),t._draw.call(i)}),n.onInit(),this},selectPage:function(e){return t._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1):e.currentPage>0&&t._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.invertPageOrder?e.currentPage>0&&t._selectPage.call(this,e.currentPage-1):e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(e){this.data("pagination").pages=e},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var a=this.data("pagination");return a.currentPage=e-1,this.data("pagination",a),t._draw.call(this),this},redraw:function(){return t._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),t._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),t._draw.call(this),this},updateItems:function(e){var a=this.data("pagination");a.items=e,a.pages=t._getPages(a),this.data("pagination",a),t._draw.call(this)},updateItemsOnPage:function(e){var a=this.data("pagination");return a.itemsOnPage=e,a.pages=t._getPages(a),this.data("pagination",a),t._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var a,n,i=this.data("pagination"),s=t._getInterval(i);t.destroy.call(this),n="function"==typeof this.prop?this.prop("tagName"):this.attr("tagName");var r="UL"===n?this:e("<ul"+(i.listStyle?' class="'+i.listStyle+'"':"")+"></ul>").appendTo(this);if(i.prevText&&t._appendItem.call(this,i.invertPageOrder?i.currentPage+1:i.currentPage-1,{text:i.prevText,classes:"prev"}),i.nextText&&i.nextAtFront&&t._appendItem.call(this,i.invertPageOrder?i.currentPage-1:i.currentPage+1,{text:i.nextText,classes:"next"}),i.invertPageOrder){if(s.end<i.pages&&i.edges>0){if(i.useStartEdge){var l=Math.max(i.pages-i.edges,s.end);for(a=i.pages-1;a>=l;a--)t._appendItem.call(this,a)}i.pages-i.edges>s.end&&i.pages-i.edges-s.end!=1?r.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-s.end==1&&t._appendItem.call(this,s.end)}}else if(s.start>0&&i.edges>0){if(i.useStartEdge){var d=Math.min(i.edges,s.start);for(a=0;a<d;a++)t._appendItem.call(this,a)}i.edges<s.start&&s.start-i.edges!=1?r.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):s.start-i.edges==1&&t._appendItem.call(this,i.edges)}if(i.invertPageOrder)for(a=s.end-1;a>=s.start;a--)t._appendItem.call(this,a);else for(a=s.start;a<s.end;a++)t._appendItem.call(this,a);if(i.invertPageOrder){if(s.start>0&&i.edges>0&&(i.edges<s.start&&s.start-i.edges!=1?r.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):s.start-i.edges==1&&t._appendItem.call(this,i.edges),i.useEndEdge)){var d=Math.min(i.edges,s.start);for(a=d-1;a>=0;a--)t._appendItem.call(this,a)}}else if(s.end<i.pages&&i.edges>0&&(i.pages-i.edges>s.end&&i.pages-i.edges-s.end!=1?r.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-s.end==1&&t._appendItem.call(this,s.end),i.useEndEdge)){var l=Math.max(i.pages-i.edges,s.end);for(a=l;a<i.pages;a++)t._appendItem.call(this,a)}i.nextText&&!i.nextAtFront&&t._appendItem.call(this,i.invertPageOrder?i.currentPage-1:i.currentPage+1,{text:i.nextText,classes:"next"}),i.ellipsePageSet&&!i.disabled&&t._ellipseClick.call(this,r)},_getPages:function(e){var t=Math.ceil(e.items/e.itemsOnPage);return t||1},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(a,n){var i,s,r=this,l=r.data("pagination"),d=e("<li></li>"),p=r.find("ul");a=a<0?0:a<l.pages?a:l.pages-1,i={text:a+1,classes:""},l.labelMap.length&&l.labelMap[a]&&(i.text=l.labelMap[a]),i=e.extend(i,n||{}),a==l.currentPage||l.disabled?(l.disabled||"prev"===i.classes||"next"===i.classes?d.addClass("disabled"):d.addClass("active"),s=e('<span class="current">'+i.text+"</span>")):(s=e('<a href="'+l.hrefTextPrefix+(a+1)+l.hrefTextSuffix+'" class="page-link">'+i.text+"</a>"),s.click(function(e){return t._selectPage.call(r,a,e)})),i.classes&&s.addClass(i.classes),d.append(s),p.length?p.append(d):r.append(d)},_selectPage:function(e,a){var n=this.data("pagination");return n.currentPage=e,n.selectOnClick&&t._draw.call(this),n.onPageClick(e+1,a)},_ellipseClick:function(a){var n=this,i=this.data("pagination"),s=a.find(".ellipse");s.addClass("clickable").parent().removeClass("disabled"),s.click(function(a){if(!i.disable){var r=e(this),l=(parseInt(r.parent().prev().text(),10)||0)+1;r.html('<input type="number" min="1" max="'+i.pages+'" step="1" value="'+l+'">').find("input").focus().click(function(e){e.stopPropagation()}).keyup(function(a){var r=e(this).val();13===a.which&&""!==r?r>0&&r<=i.pages&&t._selectPage.call(n,r-1):27===a.which&&s.empty().html(i.ellipseText)}).bind("blur",function(a){var r=e(this).val();return""!==r&&t._selectPage.call(n,r-1),s.empty().html(i.ellipseText),!1})}return!1})}};e.fn.pagination=function(a){return t[a]&&"_"!=a.charAt(0)?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.pagination"):t.init.apply(this,arguments)}}(jQuery)},{}],3:[function(e,t,a){!function(e,t){"use strict";t.ListView=function(){function t(e,t){this.itemsPerPage=t,this.$widgetContainer=e,this.$htmlContent=null}var a="href",n="opened",i="closed",s="on",r="off",l="pmwpp-list-pagination",d=".details",p="["+a+"]",o=".name",c=".lastname",g=".initials",u="#instanceId",f=".list_spinner",h=".pm-list-item",P="."+l,m="http://";return t.prototype.setContent=function(t){t instanceof e&&(this.$htmlContent=t)},t.prototype.getWidgetId=function(){var t=!1;return this.$widgetContainer instanceof e&&(t=this.$widgetContainer.find(u).val()),t},t.prototype.toggleSpinner=function(){this.$widgetContainer instanceof e&&(this.$widgetContainer.find(f).hasClass(s)?this.$widgetContainer.find(f).removeClass(s).addClass(r):this.$widgetContainer.find(f).removeClass(r).addClass(s))},t.prototype.toggleDetailsOnListItem=function(e){e.hasClass(n)?(e.removeClass(n).addClass(i),e.parent().siblings(d).removeClass(n).addClass(i)):(e.removeClass(i).addClass(n),e.parent().siblings(d).removeClass(i).addClass(n))},t.prototype.displayPagination=function(){if(this.$htmlContent instanceof e&&this.$widgetContainer instanceof e){var t=this,a=t.$htmlContent.length;this.$widgetContainer.append('<div class="'+l+'"></div>'),a>1&&t.$widgetContainer.find(P).pagination({pages:a,itemsOnPage:t.itemsPerPage,displayedPages:3,edges:1,prevText:" ",nextText:" ",onPageClick:function(e,a){void 0!=a&&a.preventDefault(),t.displayPage(e,!0)}}),t.displayPage(1)}},t.prototype.displayPage=function(t,a){if(this.$widgetContainer instanceof e){var n,i=t-1,s=this.$htmlContent.eq(i).clone(),r=this.$widgetContainer.find(P);s=this.fixLinks(s),s=this.displayInitials(s),this.$widgetContainer.find(h).remove(),r.before(s),a&&(n=r.offset().top,e("body").scrollTop(n-600))}},t.prototype.displayInitials=function(t){if(t instanceof e)for(var a=0;a<t.find(h).length;a++){var n=t.find(h).eq(a),i="",s="";n.find(o).length>0&&(i=n.find(o).text().trim().charAt(0)),n.find(c).length>0&&(s=n.find(c).text().trim().charAt(0)),n.find(g).html(i.toUpperCase()+s.toUpperCase())}return t},t.prototype.fixLinks=function(t){if(t instanceof e){var n=t.find(h+" "+p);n.each(function(){var t=e(this).attr(a);void 0!=t&&""!=t&&"#"!=t&&t.indexOf(m)==-1&&e(this).attr(a,m+t)})}return t},t}()}(jQuery,window)},{}],4:[function(e,t,a){!function(e,t){"use strict";e(document).ready(function(){var a=new t.ListView,n=new t.CallToAction,i=new t.WpAjax;e(".widget_list_entities").each(function(){var a=e(this),n=a.find("#listItems"),s=1==n.length?parseInt(n.val()):10,r=new t.ListView(a,s);r.toggleSpinner(),i.getEntitiesList(r.getWidgetId(),function(t){r.setContent(e(t)),r.displayPagination(),r.toggleSpinner()})}),e("body").on("click",".pm-list-item .visibility",function(t){t.preventDefault(),a.toggleDetailsOnListItem(e(this))}),e("body").on("click",".pm-cta .cta",function(a){a.preventDefault(),t.open(n.getURL(e(this)),"_blank")})})}(jQuery,window)},{}],5:[function(e,t,a){e("./wpAjax"),e("./callToAction"),e("./listView"),e("./jquery.simplePagination"),e("./main")},{"./callToAction":1,"./jquery.simplePagination":2,"./listView":3,"./main":4,"./wpAjax":6}],6:[function(e,t,a){!function(e,t){"use strict";t.WpAjax=function(){function t(){}function a(t,a,i){e.get(n,{action:t,data:a},function(e){i(e)})}var n="/wp-admin/admin-ajax.php";return t.prototype.getEntitiesList=function(e,t){var n="pmwpp_list_entities",i={widget:e};a(n,i,t)},t}()}(jQuery,window)},{}]},{},[5]);
//# sourceMappingURL=pmwpp-public.js.map
